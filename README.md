#### Доступные запросы к локальному API:


### Роуты авторизации:

##### POST /api/auth/register

Для регистрации сервер требует следующие данные:

    name - String, реальное имя пользователя
    email - String, должно быть похоже на email, обязательно уникально;
    password - пароль. Для целей разработки настроена простейшая валидация, пароль не может быть короче 6 символов
    avatar - файл картинки

У тега form обязательно должен быть прописан атрибут enctype=multipart/form-data

В ответ либо возвращает statuscode 200 и json с ключом message (регистрация прошла успешно), либо statuscode 400 и список ошибок в json

##### POST /api/auth/login

Требует следующие данные:

    {
      email - должен быть email-ом,
      password - валидация на незаполненное поле
    }

  Если авторизация прошла успешно, то statuscode 200 и клиент в ответ получает json со следующими данными:

      {
        token - Bearer токен,
        userId (на всякий случай),
        avatar - ссылка на картинку
      }

Формат - либо x-www-formurlencoded, либо Content-Type: application/json также должно сработать

Если авторизация не прошла, высылает statuscode 400 и json с комментарием (на английском). Где именно произошла ошибка, в почте или пароле, не сообщается. 


### Частично защищенные роуты

##### POST /api/service/countries

Ожидает в заголовках запроса Content-Type: application/json, является частично защищенным роутом:

Без авторизации высылает список всех стран на всех доступных языках. Рейтинг достопримечательностей недоступен - при отсутствии токена поле рейтинг вложенного объекта "достопримечательность" просто не высылается (такого ключа не будет).

С валидным токеном сервер отдаёт полную информацию, включая и ключ "rating" по каждой достопримечательности. Этот ключ представляет собой массив объектов, каждый из которых выглядит так:

    {
      value (числовое значение оценки или строка, приводимая к числу),
      userId (id проголосовавшего пользователя),
      avatar (адрес к картинке, можно вставить в src),
      username ("Реальное имя пользователя")
    }

Массив рейтинга может быть пустым - если ещё никто не проголосовал

ВНИМАНИЕ! Сразу после успешной авторизации (получении токена) клиенту необходимо отправить запрос на /api/service/countries для получения информации о рейтинге
    
### Защищенные роуты

#### Отправка запроса с авторизацией

Требуется прописать дополнительный header:
Authorization: Bearer ${token}

Пробел обязателен - именно по нему сервер понимает, где начинается сам токен.
Id юзера можно не передавать - в самом токене уже "зашит" нужный id.

##### /api/service/vote - Голосование за достопримечательность

Требует авторизацию, без неё сразу вернёт statuscode 401 unauthorazed.

Ожидает формат Content-Type: application/json. 

В body запроса требуется передать следующие данные:

    {
    "countryId" (_id Страны, самое верхнее,
     НЕ внутри языковых объектов),
    "attractionId" (_id достопримечательности),
    "lang" (код языка),
    "value" (оценка - число или строка, приводимая к числу)
    }

В ответ сервер высылает обновленный объект страны целиком (на всех языках)

### Тестовый юзер
email - dev@dev.ru
password - password
